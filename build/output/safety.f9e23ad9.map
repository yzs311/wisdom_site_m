{"version":3,"sources":["js/safety.js"],"names":["$","pid","localStorage","getItem","Swiper","slidesPerView","freeMode","scrollbar","el","scrollStart","id","id1","id2","setTimeout","speed","colee2","document","getElementById","colee1","colee","innerHTML","setInterval","Marquee1","offsetTop","scrollTop","offsetHeight","on","addClass","siblings","removeClass","event","stopPropagation","css","i","length","spaceBetween","axios","get","then","res","console","log","data","html","MotorStatus","name","startTime","split","image","dname","ratedWeight","moment","multiple","weight","rrange","height","angle","windSpeed","obliguity","ts","fallAlarm","bottomAlarm"],"mappings":"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","file":"safety.f9e23ad9.map","sourceRoot":"..\\..","sourcesContent":["$(function(){\r\n    // 获取项目id\r\n    let pid = localStorage.getItem('pid')\r\n\r\n    // 初始化导航栏滚动\r\n    const swiper1 = new Swiper('#swiper1', {\r\n        slidesPerView: 3,\r\n        freeMode : true,\r\n        scrollbar: {\r\n            el: '.swiper-scrollbar',\r\n        },\r\n    })\r\n    \r\n    // const swiper3 = new Swiper('#swiper3')\r\n    \r\n    // 模块切换点击事件\r\n    // 切换到塔吊模块\r\n    $('#towerCraneBtn').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        event.stopPropagation()\r\n        $('.towerCrane').css('display','')\r\n        let siblings = $('.towerCrane').siblings()\r\n        for (let i = 0; i < siblings.length; i++) {\r\n            $(siblings[i]).css('display','none')\r\n        }\r\n    })\r\n\r\n    // 切换到升降机模块\r\n    $('#elevatorBtn').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        $('.elevator').css('display','')\r\n        let siblings = $('.elevator').siblings()\r\n        for (let i = 0; i < siblings.length; i++) {\r\n            $(siblings[i]).css('display','none')\r\n        }\r\n        const swiper3 = new Swiper('#swiper3',{\r\n            spaceBetween : 30,\r\n        })\r\n    })\r\n\r\n    // 切换到车辆出入模块\r\n    $('#carBtn').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        $('.car').css('display','')\r\n        let siblings = $('.car').siblings()\r\n        for (let i =0; i < siblings.length; i++) {\r\n            $(siblings[i]).css('display','none')\r\n        }\r\n        const swiper4 = new Swiper('#swiper4',{\r\n            spaceBetween : 30,\r\n        })\r\n    })\r\n\r\n    // 启动车辆出入模块滚动\r\n    scrollStart('carBox1','carBox1-1','carBox1-2')\r\n    scrollStart('carBox2','carBox2-1','carBox2-2')\r\n    // 滚动启动函数\r\n    function scrollStart(id,id1,id2) {\r\n        setTimeout(() => {\r\n          var speed = 45;\r\n          var colee2 = document.getElementById(id2);\r\n          var colee1 = document.getElementById(id1);\r\n          var colee = document.getElementById(id);\r\n          colee2.innerHTML = colee1.innerHTML; //克隆colee1为colee2\r\n          function Marquee1() {\r\n            // console.log(colee1.offsetHeight)\r\n            //当滚动至colee1与colee2交界时\r\n            if (colee2.offsetTop - colee.scrollTop <= 0) {\r\n              colee.scrollTop -= colee1.offsetHeight; //colee跳到最顶端\r\n            } else {\r\n              colee.scrollTop++;\r\n              if (colee.scrollTop == colee1.offsetHeight) {\r\n                colee.scrollTop = 0;\r\n              }\r\n            }\r\n          }\r\n          var MyMar1 = setInterval(Marquee1,50); //设置定时器\r\n        //   //鼠标移上时清除定时器达到滚动停止的目的\r\n        //   colee.onmouseover = function() {\r\n        //     clearInterval(MyMar1);\r\n        //   };\r\n        //   //鼠标移开时重设定时器\r\n        //   colee.onmouseout = function() {\r\n        //     MyMar1 = setInterval(Marquee1, speed);\r\n        //   };\r\n        }, 100);\r\n    }\r\n\r\n    // 切换到气体检测数据模块\r\n    $('#gasBtn').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        $('.gas').css('display','')\r\n        let siblings = $('.gas').siblings()\r\n        for (let i = 0; i < siblings.length; i++) {\r\n            $(siblings[i]).css('display','none')\r\n        }\r\n        const swiper5 = new Swiper('#swiper5',{\r\n            spaceBetween : 30,\r\n        })\r\n    })\r\n\r\n    // 切换到龙门吊数据模块\r\n    $('#gantryCrane').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        $('.gantryCrane').css('display','')\r\n        let siblings = $('.gantryCrane').siblings()\r\n        for (let i = 0; i < siblings.length; i++) {\r\n            $(siblings[i]).css('display','none')\r\n        }\r\n        const swiper6 = new Swiper('#swiper6',{\r\n            spaceBetween : 30,\r\n        })\r\n    })\r\n\r\n    // 启动龙门吊实时数据滚动\r\n    scrollStart('gantryBox1','gantryBox1-1','gantryBox1-2')\r\n\r\n    // 获取塔吊数据\r\n    axios.get(`http://39.108.103.150:8989/lz/deye/getCraneData?pid=${pid}`).then(\r\n        res => {\r\n            console.log(res.data)\r\n            // 将塔吊的数据渲染到页面中\r\n            let html = ''\r\n            for (let i = 0; i < res.data.length; i++) {\r\n                html += \r\n                    `<div class=\"slide-box swiper-slide\">\r\n                        <div class=\"information\">\r\n                            <div class=\"information-left ${res.data[i].MotorStatus!=0?'normal':'anomaly'}\">\r\n                                ${res.data[i].MotorStatus!=0?'正常运行':'异常运行'}\r\n                            </div>\r\n                            <div class=\"information-middle\">\r\n                                <div class=\"name\">\r\n                                    今日工作\r\n                                    <span>${res.data[i].name}</span>\r\n                                </div>\r\n                                <div class=\"time\">\r\n                                    上工时间\r\n                                    <span>${res.data[i].startTime!=null?res.data[i].startTime.split(' ')[1]:''}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"information-right\">\r\n                                <img src=\"${res.data[i].image}\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"data\">\r\n                            <div class=\"name\">\r\n                            ${res.data[i].dname}\r\n                            </div>\r\n                            <div class=\"top-data\">\r\n                                <div class=\"left-box\">\r\n                                    <p>起重</p>\r\n                                    <p>${res.data[i].ratedWeight}t</p>\r\n                                </div>\r\n                                <div class=\"middle-box\">\r\n                                ${res.data[i].moment}%\r\n                                    <p>力距</p>\r\n                                </div>\r\n                                <div class=\"right-box\">\r\n                                    <p>倍率</p>\r\n                                    <p>${res.data[i].multiple}倍</p>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"bottom-data\">\r\n                                <ul>\r\n                                    <li style=\"margin-top: 0;\">\r\n                                        <div class=\"icon-box weight\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>重量</p>\r\n                                            <p>${res.data[i].weight}t</p>\r\n                                        </div>\r\n                                    </li>\r\n                                    <li style=\"margin-top: 0;\">\r\n                                        <div class=\"icon-box range\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>幅度</p>\r\n                                            <p>${res.data[i].rrange}m</p>\r\n                                        </div>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div class=\"icon-box altitude\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>高度</p>\r\n                                            <p>${res.data[i].height}m</p>\r\n                                        </div>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div class=\"icon-box rotation\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>回转</p>\r\n                                            <p>${res.data[i].angle}°</p>\r\n                                        </div>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div class=\"icon-box windSpeed\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>风速</p>\r\n                                            <p>${res.data[i].windSpeed}m</p>\r\n                                        </div>\r\n                                    </li>\r\n                                    <li>\r\n                                        <div class=\"icon-box dipAngle\"></div>\r\n                                        <div class=\"li-data\">\r\n                                            <p>倾角</p>\r\n                                            <p>${res.data[i].obliguity}°</p>\r\n                                        </div>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"service\">\r\n                                    检修倒计时 : \r\n                                    <span class=\"normal\">${res.data[i].ts}天</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>`\r\n            }\r\n            $('#towerCrane').html(html)\r\n\r\n            // 初始化塔吊滚动\r\n            const swiper2 = new Swiper('#swiper2',{\r\n                spaceBetween : 30,\r\n            })\r\n        }\r\n    )\r\n\r\n    // 获取升降机数据\r\n    axios.get(`http://39.108.103.150:8989/lz/deye/getElevatorData?pid=${pid}`).then(\r\n        res => {\r\n            let html = ''\r\n            for (let i = 0; i < res.data.length; i++) {\r\n                html += \r\n                    `<div class=\"slide-box swiper-slide\">\r\n                        <div class=\"information\">\r\n                            <div class=\"information-left normal\">\r\n                                正常运行\r\n                            </div>\r\n                            <div class=\"information-middle\">\r\n                                <div class=\"name\">\r\n                                    今日工作\r\n                                    <span>${res.data[0].name}</span>\r\n                                </div>\r\n                                <div class=\"time\">\r\n                                    上工时间\r\n                                    <span>${res.data[i].startTime!=null?res.data[i].startTime.split(' ')[1]:''}</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"information-right\">\r\n                                <img src=\"${res.data[0].image}\" alt=\"\">\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"data\">\r\n                            <div class=\"name\">\r\n                                ${res.data[0].dname}\r\n                            </div>\r\n                            <div class=\"data-box\">\r\n                                <ul>\r\n                                    <li class=\"normal green-circle\">\r\n                                        ${res.data[0].weight}t\r\n                                        <span>载重</span>\r\n                                    </li>\r\n                                    <li class=\"normal\">\r\n                                        ${res.data[0].height}m\r\n                                        <span>高度</span>\r\n                                    </li>\r\n                                    <li class=\"normal\">\r\n                                        ${res.data[0].fallAlarm==0?'正常':'异常'}\r\n                                        <span>防坠在位监测</span>\r\n                                    </li>\r\n                                    <li class=\"normal\">\r\n                                        ${res.data[0].bottomAlarm==0?'正常':'异常'}\r\n                                        <span>上下限位监测</span>\r\n                                    </li>\r\n                                </ul>\r\n                                <div class=\"service\">\r\n                                    检修倒计时 : \r\n                                    <span class=\"normal\">${res.data[0].ts}天</span>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>`\r\n            }\r\n            $('#elevator').html(html)\r\n        }\r\n    )\r\n})"]}