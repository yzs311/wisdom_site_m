{"id":"Sct5","dependencies":[{"name":"C:\\Users\\Administrator\\Desktop\\智慧工地移动端（试点）\\wisdom_site_m\\package.json","includedInParent":true,"mtime":1550824620068}],"generated":{"js":"$(function(){var t=localStorage.getItem(\"pid\"),a=\"\",i=\"\",n=\"\",o=\"\",c=1,e=\"\",l=\"\";$(\".addPic\").on(\"click\",function(){$(\".camera\").click()}),$(\".camera\").change(function(t){$(\".addPic\").css(\"display\",\"none\"),$(\".uploading\").css(\"display\",\"block\");var a=t.target.files[0];file=new FormData,file.append(\"file\",a),axios.post(\"http://39.108.103.150:8989/lz/file/upload?folderName=1\",file,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(function(t){$(\".addPic\").attr(\"src\",t.data.data[0].fileimgurl),$(\".addPic\").css(\"display\",\"block\"),$(\".uploading\").css(\"display\",\"none\"),n=t.data.data[0].fileimgurl})}),axios.post(\"http://39.108.103.150:8989/lz/polling/queryBuildCompanyInFo?projectId=\".concat(t)).then(function(t){for(var a=\"\",n=0;n<t.data.msg.length;n++)a+='<li data-unitid=\"'.concat(t.data.msg[n].id,'\">').concat(t.data.msg[n].title,\"</li>\");$(\".unit-box ul\").html(a),$(\".unit-box ul li\").on(\"click\",function(t){t.stopPropagation(),$(\".unit-box\").css(\"display\",\"none\"),i=$(this).data(\"unitid\"),$(\".unit .text\").html(\"\".concat($(this).text(),\"<i></i>\"))})});var d=new datePicker;d.init({trigger:\".deadline\",type:\"date\",minDate:\"1900-1-1\",maxDate:\"2100-12-31\",onSubmit:function(){var t=d.value;$(\".deadline span\").html(t),e=t},onClose:function(){}}),$(\".rank .button-box div\").on(\"click\",function(){$(this).addClass(\"active\").siblings().removeClass(\"active\"),c=$(this).data(\"rank\")}),$(\".unit\").on(\"click\",function(){$(\".unit-box\").css(\"display\",\"block\")}),$(\".countersign\").on(\"click\",function(){a=$(\".position input\").val(),o=$(\".describe textarea\").val(),l=$(\".require textarea\").val(),axios.post(\"http://39.108.103.150:8989/lz/polling/addPolling?place=\".concat(a,\"&describex=\").concat(o,\"&rectification=\").concat(l,\"&unitId=\").concat(i,\"&fileUrl=\").concat(n,\"&rank=\").concat(c,\"&deadlineTime=\").concat(e,\"&projectId=\").concat(t)).then(function(t){console.log(t.data),\"发起成功！\"==t.data.msg?location=\"../components/quality.html\":alert(\"\")})})});","map":{"mappings":[{"source":"js/establish.js","name":"$","original":{"line":1,"column":0},"generated":{"line":1,"column":0}},{"source":"js/establish.js","original":{"line":1,"column":2},"generated":{"line":1,"column":2}},{"source":"js/establish.js","name":"pid","original":{"line":3,"column":8},"generated":{"line":1,"column":13}},{"source":"js/establish.js","name":"pid","original":{"line":3,"column":8},"generated":{"line":1,"column":17}},{"source":"js/establish.js","name":"localStorage","original":{"line":3,"column":14},"generated":{"line":1,"column":19}},{"source":"js/establish.js","name":"getItem","original":{"line":3,"column":27},"generated":{"line":1,"column":32}},{"source":"js/establish.js","original":{"line":3,"column":35},"generated":{"line":1,"column":40}},{"source":"js/establish.js","name":"place","original":{"line":6,"column":8},"generated":{"line":1,"column":47}},{"source":"js/establish.js","original":{"line":6,"column":16},"generated":{"line":1,"column":49}},{"source":"js/establish.js","name":"unitId","original":{"line":7,"column":8},"generated":{"line":1,"column":52}},{"source":"js/establish.js","original":{"line":7,"column":17},"generated":{"line":1,"column":54}},{"source":"js/establish.js","name":"fileUrl","original":{"line":8,"column":8},"generated":{"line":1,"column":57}},{"source":"js/establish.js","original":{"line":8,"column":18},"generated":{"line":1,"column":59}},{"source":"js/establish.js","name":"describex","original":{"line":9,"column":8},"generated":{"line":1,"column":62}},{"source":"js/establish.js","original":{"line":9,"column":20},"generated":{"line":1,"column":64}},{"source":"js/establish.js","name":"rank","original":{"line":10,"column":8},"generated":{"line":1,"column":67}},{"source":"js/establish.js","original":{"line":10,"column":15},"generated":{"line":1,"column":69}},{"source":"js/establish.js","name":"deadlineTime","original":{"line":11,"column":8},"generated":{"line":1,"column":71}},{"source":"js/establish.js","original":{"line":11,"column":23},"generated":{"line":1,"column":73}},{"source":"js/establish.js","name":"rectification","original":{"line":12,"column":8},"generated":{"line":1,"column":76}},{"source":"js/establish.js","original":{"line":12,"column":24},"generated":{"line":1,"column":78}},{"source":"js/establish.js","name":"$","original":{"line":15,"column":4},"generated":{"line":1,"column":81}},{"source":"js/establish.js","original":{"line":15,"column":6},"generated":{"line":1,"column":83}},{"source":"js/establish.js","name":"on","original":{"line":15,"column":17},"generated":{"line":1,"column":94}},{"source":"js/establish.js","original":{"line":15,"column":20},"generated":{"line":1,"column":97}},{"source":"js/establish.js","original":{"line":15,"column":28},"generated":{"line":1,"column":105}},{"source":"js/establish.js","name":"$","original":{"line":16,"column":8},"generated":{"line":1,"column":116}},{"source":"js/establish.js","original":{"line":16,"column":10},"generated":{"line":1,"column":118}},{"source":"js/establish.js","name":"click","original":{"line":16,"column":21},"generated":{"line":1,"column":129}},{"source":"js/establish.js","name":"$","original":{"line":20,"column":4},"generated":{"line":1,"column":139}},{"source":"js/establish.js","original":{"line":20,"column":6},"generated":{"line":1,"column":141}},{"source":"js/establish.js","name":"change","original":{"line":20,"column":17},"generated":{"line":1,"column":152}},{"source":"js/establish.js","original":{"line":20,"column":24},"generated":{"line":1,"column":159}},{"source":"js/establish.js","name":"e","original":{"line":20,"column":33},"generated":{"line":1,"column":168}},{"source":"js/establish.js","name":"$","original":{"line":21,"column":8},"generated":{"line":1,"column":171}},{"source":"js/establish.js","original":{"line":21,"column":10},"generated":{"line":1,"column":173}},{"source":"js/establish.js","name":"css","original":{"line":21,"column":21},"generated":{"line":1,"column":184}},{"source":"js/establish.js","original":{"line":21,"column":25},"generated":{"line":1,"column":188}},{"source":"js/establish.js","original":{"line":21,"column":35},"generated":{"line":1,"column":198}},{"source":"js/establish.js","name":"$","original":{"line":22,"column":8},"generated":{"line":1,"column":206}},{"source":"js/establish.js","original":{"line":22,"column":10},"generated":{"line":1,"column":208}},{"source":"js/establish.js","name":"css","original":{"line":22,"column":24},"generated":{"line":1,"column":222}},{"source":"js/establish.js","original":{"line":22,"column":28},"generated":{"line":1,"column":226}},{"source":"js/establish.js","original":{"line":22,"column":38},"generated":{"line":1,"column":236}},{"source":"js/establish.js","name":"headers","original":{"line":23,"column":12},"generated":{"line":1,"column":245}},{"source":"js/establish.js","name":"temp","original":{"line":24,"column":12},"generated":{"line":1,"column":249}},{"source":"js/establish.js","name":"e","original":{"line":24,"column":19},"generated":{"line":1,"column":251}},{"source":"js/establish.js","name":"target","original":{"line":24,"column":21},"generated":{"line":1,"column":253}},{"source":"js/establish.js","name":"files","original":{"line":24,"column":28},"generated":{"line":1,"column":260}},{"source":"js/establish.js","original":{"line":24,"column":34},"generated":{"line":1,"column":266}},{"source":"js/establish.js","name":"file","original":{"line":25,"column":8},"generated":{"line":1,"column":269}},{"source":"js/establish.js","original":{"line":25,"column":15},"generated":{"line":1,"column":274}},{"source":"js/establish.js","name":"FormData","original":{"line":25,"column":19},"generated":{"line":1,"column":278}},{"source":"js/establish.js","name":"file","original":{"line":26,"column":8},"generated":{"line":1,"column":287}},{"source":"js/establish.js","name":"append","original":{"line":26,"column":13},"generated":{"line":1,"column":292}},{"source":"js/establish.js","original":{"line":26,"column":20},"generated":{"line":1,"column":299}},{"source":"js/establish.js","name":"temp","original":{"line":26,"column":27},"generated":{"line":1,"column":306}},{"source":"js/establish.js","name":"axios","original":{"line":28,"column":8},"generated":{"line":1,"column":309}},{"source":"js/establish.js","name":"post","original":{"line":28,"column":14},"generated":{"line":1,"column":315}},{"source":"js/establish.js","name":"file","original":{"line":28,"column":76},"generated":{"line":1,"column":320}},{"source":"js/establish.js","name":"file","original":{"line":28,"column":76},"generated":{"line":1,"column":377}},{"source":"js/establish.js","original":{"line":23,"column":22},"generated":{"line":1,"column":382}},{"source":"js/establish.js","name":"headers","original":{"line":23,"column":23},"generated":{"line":1,"column":383}},{"source":"js/establish.js","original":{"line":23,"column":32},"generated":{"line":1,"column":391}},{"source":"js/establish.js","original":{"line":23,"column":49},"generated":{"line":1,"column":392}},{"source":"js/establish.js","original":{"line":23,"column":49},"generated":{"line":1,"column":407}},{"source":"js/establish.js","name":"then","original":{"line":28,"column":90},"generated":{"line":1,"column":432}},{"source":"js/establish.js","original":{"line":29,"column":12},"generated":{"line":1,"column":437}},{"source":"js/establish.js","name":"res","original":{"line":29,"column":12},"generated":{"line":1,"column":446}},{"source":"js/establish.js","name":"$","original":{"line":31,"column":16},"generated":{"line":1,"column":449}},{"source":"js/establish.js","original":{"line":31,"column":18},"generated":{"line":1,"column":451}},{"source":"js/establish.js","name":"attr","original":{"line":31,"column":29},"generated":{"line":1,"column":462}},{"source":"js/establish.js","original":{"line":31,"column":34},"generated":{"line":1,"column":467}},{"source":"js/establish.js","name":"res","original":{"line":31,"column":40},"generated":{"line":1,"column":473}},{"source":"js/establish.js","name":"data","original":{"line":31,"column":44},"generated":{"line":1,"column":475}},{"source":"js/establish.js","name":"data","original":{"line":31,"column":49},"generated":{"line":1,"column":480}},{"source":"js/establish.js","original":{"line":31,"column":54},"generated":{"line":1,"column":485}},{"source":"js/establish.js","name":"fileimgurl","original":{"line":31,"column":57},"generated":{"line":1,"column":488}},{"source":"js/establish.js","name":"$","original":{"line":32,"column":16},"generated":{"line":1,"column":500}},{"source":"js/establish.js","original":{"line":32,"column":18},"generated":{"line":1,"column":502}},{"source":"js/establish.js","name":"css","original":{"line":32,"column":29},"generated":{"line":1,"column":513}},{"source":"js/establish.js","original":{"line":32,"column":33},"generated":{"line":1,"column":517}},{"source":"js/establish.js","original":{"line":32,"column":43},"generated":{"line":1,"column":527}},{"source":"js/establish.js","name":"$","original":{"line":33,"column":16},"generated":{"line":1,"column":536}},{"source":"js/establish.js","original":{"line":33,"column":18},"generated":{"line":1,"column":538}},{"source":"js/establish.js","name":"css","original":{"line":33,"column":32},"generated":{"line":1,"column":552}},{"source":"js/establish.js","original":{"line":33,"column":36},"generated":{"line":1,"column":556}},{"source":"js/establish.js","original":{"line":33,"column":46},"generated":{"line":1,"column":566}},{"source":"js/establish.js","name":"fileUrl","original":{"line":34,"column":16},"generated":{"line":1,"column":574}},{"source":"js/establish.js","name":"res","original":{"line":34,"column":26},"generated":{"line":1,"column":576}},{"source":"js/establish.js","name":"data","original":{"line":34,"column":30},"generated":{"line":1,"column":578}},{"source":"js/establish.js","name":"data","original":{"line":34,"column":35},"generated":{"line":1,"column":583}},{"source":"js/establish.js","original":{"line":34,"column":40},"generated":{"line":1,"column":588}},{"source":"js/establish.js","name":"fileimgurl","original":{"line":34,"column":43},"generated":{"line":1,"column":591}},{"source":"js/establish.js","name":"axios","original":{"line":41,"column":8},"generated":{"line":1,"column":606}},{"source":"js/establish.js","name":"post","original":{"line":41,"column":14},"generated":{"line":1,"column":612}},{"source":"js/establish.js","name":"pid","original":{"line":41,"column":92},"generated":{"line":1,"column":617}},{"source":"js/establish.js","name":"pid","original":{"line":41,"column":92},"generated":{"line":1,"column":690}},{"source":"js/establish.js","name":"pid","original":{"line":41,"column":92},"generated":{"line":1,"column":697}},{"source":"js/establish.js","name":"then","original":{"line":41,"column":99},"generated":{"line":1,"column":701}},{"source":"js/establish.js","original":{"line":42,"column":12},"generated":{"line":1,"column":706}},{"source":"js/establish.js","name":"res","original":{"line":42,"column":12},"generated":{"line":1,"column":715}},{"source":"js/establish.js","original":{"line":45,"column":21},"generated":{"line":1,"column":718}},{"source":"js/establish.js","name":"html","original":{"line":44,"column":20},"generated":{"line":1,"column":722}},{"source":"js/establish.js","name":"html","original":{"line":44,"column":20},"generated":{"line":1,"column":726}},{"source":"js/establish.js","original":{"line":44,"column":27},"generated":{"line":1,"column":728}},{"source":"js/establish.js","name":"i","original":{"line":45,"column":25},"generated":{"line":1,"column":731}},{"source":"js/establish.js","original":{"line":45,"column":29},"generated":{"line":1,"column":733}},{"source":"js/establish.js","name":"i","original":{"line":45,"column":32},"generated":{"line":1,"column":735}},{"source":"js/establish.js","name":"res","original":{"line":45,"column":36},"generated":{"line":1,"column":737}},{"source":"js/establish.js","name":"data","original":{"line":45,"column":40},"generated":{"line":1,"column":739}},{"source":"js/establish.js","name":"msg","original":{"line":45,"column":45},"generated":{"line":1,"column":744}},{"source":"js/establish.js","name":"length","original":{"line":45,"column":49},"generated":{"line":1,"column":748}},{"source":"js/establish.js","name":"i","original":{"line":45,"column":57},"generated":{"line":1,"column":755}},{"source":"js/establish.js","name":"html","original":{"line":46,"column":20},"generated":{"line":1,"column":759}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":44},"generated":{"line":1,"column":762}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":44},"generated":{"line":1,"column":782}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":44},"generated":{"line":1,"column":789}},{"source":"js/establish.js","name":"data","original":{"line":47,"column":48},"generated":{"line":1,"column":791}},{"source":"js/establish.js","name":"msg","original":{"line":47,"column":53},"generated":{"line":1,"column":796}},{"source":"js/establish.js","name":"i","original":{"line":47,"column":57},"generated":{"line":1,"column":800}},{"source":"js/establish.js","name":"id","original":{"line":47,"column":60},"generated":{"line":1,"column":803}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":67},"generated":{"line":1,"column":806}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":67},"generated":{"line":1,"column":812}},{"source":"js/establish.js","name":"res","original":{"line":47,"column":67},"generated":{"line":1,"column":819}},{"source":"js/establish.js","name":"data","original":{"line":47,"column":71},"generated":{"line":1,"column":821}},{"source":"js/establish.js","name":"msg","original":{"line":47,"column":76},"generated":{"line":1,"column":826}},{"source":"js/establish.js","name":"i","original":{"line":47,"column":80},"generated":{"line":1,"column":830}},{"source":"js/establish.js","name":"title","original":{"line":47,"column":83},"generated":{"line":1,"column":833}},{"source":"js/establish.js","original":{"line":46,"column":20},"generated":{"line":1,"column":839}},{"source":"js/establish.js","name":"$","original":{"line":49,"column":16},"generated":{"line":1,"column":848}},{"source":"js/establish.js","original":{"line":49,"column":18},"generated":{"line":1,"column":850}},{"source":"js/establish.js","name":"html","original":{"line":49,"column":34},"generated":{"line":1,"column":866}},{"source":"js/establish.js","name":"html","original":{"line":49,"column":39},"generated":{"line":1,"column":871}},{"source":"js/establish.js","name":"$","original":{"line":52,"column":16},"generated":{"line":1,"column":874}},{"source":"js/establish.js","original":{"line":52,"column":18},"generated":{"line":1,"column":876}},{"source":"js/establish.js","name":"on","original":{"line":52,"column":37},"generated":{"line":1,"column":895}},{"source":"js/establish.js","original":{"line":52,"column":40},"generated":{"line":1,"column":898}},{"source":"js/establish.js","original":{"line":52,"column":48},"generated":{"line":1,"column":906}},{"source":"js/establish.js","name":"event","original":{"line":52,"column":57},"generated":{"line":1,"column":915}},{"source":"js/establish.js","name":"event","original":{"line":53,"column":20},"generated":{"line":1,"column":918}},{"source":"js/establish.js","name":"stopPropagation","original":{"line":53,"column":26},"generated":{"line":1,"column":920}},{"source":"js/establish.js","name":"$","original":{"line":54,"column":20},"generated":{"line":1,"column":938}},{"source":"js/establish.js","original":{"line":54,"column":22},"generated":{"line":1,"column":940}},{"source":"js/establish.js","name":"css","original":{"line":54,"column":35},"generated":{"line":1,"column":953}},{"source":"js/establish.js","original":{"line":54,"column":39},"generated":{"line":1,"column":957}},{"source":"js/establish.js","original":{"line":54,"column":49},"generated":{"line":1,"column":967}},{"source":"js/establish.js","name":"unitId","original":{"line":57,"column":20},"generated":{"line":1,"column":975}},{"source":"js/establish.js","name":"$","original":{"line":57,"column":29},"generated":{"line":1,"column":977}},{"source":"js/establish.js","original":{"line":57,"column":31},"generated":{"line":1,"column":979}},{"source":"js/establish.js","name":"data","original":{"line":57,"column":37},"generated":{"line":1,"column":985}},{"source":"js/establish.js","original":{"line":57,"column":42},"generated":{"line":1,"column":990}},{"source":"js/establish.js","name":"$","original":{"line":58,"column":20},"generated":{"line":1,"column":1000}},{"source":"js/establish.js","original":{"line":58,"column":22},"generated":{"line":1,"column":1002}},{"source":"js/establish.js","name":"html","original":{"line":58,"column":37},"generated":{"line":1,"column":1017}},{"source":"js/establish.js","name":"$","original":{"line":58,"column":45},"generated":{"line":1,"column":1022}},{"source":"js/establish.js","name":"$","original":{"line":58,"column":45},"generated":{"line":1,"column":1025}},{"source":"js/establish.js","name":"$","original":{"line":58,"column":45},"generated":{"line":1,"column":1032}},{"source":"js/establish.js","original":{"line":58,"column":47},"generated":{"line":1,"column":1034}},{"source":"js/establish.js","name":"text","original":{"line":58,"column":53},"generated":{"line":1,"column":1040}},{"source":"js/establish.js","original":{"line":58,"column":20},"generated":{"line":1,"column":1047}},{"source":"js/establish.js","name":"calendar","original":{"line":67,"column":8},"generated":{"line":1,"column":1063}},{"source":"js/establish.js","name":"calendar","original":{"line":67,"column":8},"generated":{"line":1,"column":1067}},{"source":"js/establish.js","original":{"line":67,"column":19},"generated":{"line":1,"column":1069}},{"source":"js/establish.js","name":"datePicker","original":{"line":67,"column":23},"generated":{"line":1,"column":1073}},{"source":"js/establish.js","name":"calendar","original":{"line":68,"column":4},"generated":{"line":1,"column":1084}},{"source":"js/establish.js","name":"init","original":{"line":68,"column":13},"generated":{"line":1,"column":1086}},{"source":"js/establish.js","original":{"line":68,"column":18},"generated":{"line":1,"column":1091}},{"source":"js/establish.js","original":{"line":69,"column":19},"generated":{"line":1,"column":1092}},{"source":"js/establish.js","original":{"line":69,"column":19},"generated":{"line":1,"column":1100}},{"source":"js/establish.js","original":{"line":70,"column":16},"generated":{"line":1,"column":1112}},{"source":"js/establish.js","original":{"line":70,"column":16},"generated":{"line":1,"column":1117}},{"source":"js/establish.js","original":{"line":71,"column":18},"generated":{"line":1,"column":1124}},{"source":"js/establish.js","original":{"line":71,"column":18},"generated":{"line":1,"column":1132}},{"source":"js/establish.js","original":{"line":72,"column":18},"generated":{"line":1,"column":1143}},{"source":"js/establish.js","original":{"line":72,"column":18},"generated":{"line":1,"column":1151}},{"source":"js/establish.js","original":{"line":73,"column":19},"generated":{"line":1,"column":1164}},{"source":"js/establish.js","original":{"line":73,"column":19},"generated":{"line":1,"column":1173}},{"source":"js/establish.js","name":"theSelectData","original":{"line":74,"column":16},"generated":{"line":1,"column":1184}},{"source":"js/establish.js","name":"theSelectData","original":{"line":74,"column":16},"generated":{"line":1,"column":1188}},{"source":"js/establish.js","name":"calendar","original":{"line":74,"column":32},"generated":{"line":1,"column":1190}},{"source":"js/establish.js","name":"value","original":{"line":74,"column":41},"generated":{"line":1,"column":1192}},{"source":"js/establish.js","name":"$","original":{"line":76,"column":12},"generated":{"line":1,"column":1198}},{"source":"js/establish.js","original":{"line":76,"column":14},"generated":{"line":1,"column":1200}},{"source":"js/establish.js","name":"html","original":{"line":76,"column":32},"generated":{"line":1,"column":1218}},{"source":"js/establish.js","name":"theSelectData","original":{"line":76,"column":37},"generated":{"line":1,"column":1223}},{"source":"js/establish.js","name":"deadlineTime","original":{"line":77,"column":12},"generated":{"line":1,"column":1226}},{"source":"js/establish.js","name":"theSelectData","original":{"line":77,"column":27},"generated":{"line":1,"column":1228}},{"source":"js/establish.js","original":{"line":79,"column":18},"generated":{"line":1,"column":1231}},{"source":"js/establish.js","original":{"line":79,"column":18},"generated":{"line":1,"column":1239}},{"source":"js/establish.js","name":"$","original":{"line":85,"column":4},"generated":{"line":1,"column":1254}},{"source":"js/establish.js","original":{"line":85,"column":6},"generated":{"line":1,"column":1256}},{"source":"js/establish.js","name":"on","original":{"line":85,"column":31},"generated":{"line":1,"column":1281}},{"source":"js/establish.js","original":{"line":85,"column":34},"generated":{"line":1,"column":1284}},{"source":"js/establish.js","original":{"line":85,"column":42},"generated":{"line":1,"column":1292}},{"source":"js/establish.js","name":"$","original":{"line":86,"column":8},"generated":{"line":1,"column":1303}},{"source":"js/establish.js","original":{"line":86,"column":10},"generated":{"line":1,"column":1305}},{"source":"js/establish.js","name":"addClass","original":{"line":86,"column":16},"generated":{"line":1,"column":1311}},{"source":"js/establish.js","original":{"line":86,"column":25},"generated":{"line":1,"column":1320}},{"source":"js/establish.js","name":"siblings","original":{"line":86,"column":35},"generated":{"line":1,"column":1330}},{"source":"js/establish.js","name":"removeClass","original":{"line":86,"column":46},"generated":{"line":1,"column":1341}},{"source":"js/establish.js","original":{"line":86,"column":58},"generated":{"line":1,"column":1353}},{"source":"js/establish.js","name":"rank","original":{"line":88,"column":8},"generated":{"line":1,"column":1363}},{"source":"js/establish.js","name":"$","original":{"line":88,"column":15},"generated":{"line":1,"column":1365}},{"source":"js/establish.js","original":{"line":88,"column":17},"generated":{"line":1,"column":1367}},{"source":"js/establish.js","name":"data","original":{"line":88,"column":23},"generated":{"line":1,"column":1373}},{"source":"js/establish.js","original":{"line":88,"column":28},"generated":{"line":1,"column":1378}},{"source":"js/establish.js","name":"$","original":{"line":92,"column":4},"generated":{"line":1,"column":1388}},{"source":"js/establish.js","original":{"line":92,"column":6},"generated":{"line":1,"column":1390}},{"source":"js/establish.js","name":"on","original":{"line":92,"column":15},"generated":{"line":1,"column":1399}},{"source":"js/establish.js","original":{"line":92,"column":18},"generated":{"line":1,"column":1402}},{"source":"js/establish.js","original":{"line":92,"column":26},"generated":{"line":1,"column":1410}},{"source":"js/establish.js","name":"$","original":{"line":93,"column":8},"generated":{"line":1,"column":1421}},{"source":"js/establish.js","original":{"line":93,"column":10},"generated":{"line":1,"column":1423}},{"source":"js/establish.js","name":"css","original":{"line":93,"column":23},"generated":{"line":1,"column":1436}},{"source":"js/establish.js","original":{"line":93,"column":27},"generated":{"line":1,"column":1440}},{"source":"js/establish.js","original":{"line":93,"column":37},"generated":{"line":1,"column":1450}},{"source":"js/establish.js","name":"$","original":{"line":97,"column":4},"generated":{"line":1,"column":1461}},{"source":"js/establish.js","original":{"line":97,"column":6},"generated":{"line":1,"column":1463}},{"source":"js/establish.js","name":"on","original":{"line":97,"column":22},"generated":{"line":1,"column":1479}},{"source":"js/establish.js","original":{"line":97,"column":25},"generated":{"line":1,"column":1482}},{"source":"js/establish.js","original":{"line":97,"column":33},"generated":{"line":1,"column":1490}},{"source":"js/establish.js","name":"place","original":{"line":98,"column":8},"generated":{"line":1,"column":1501}},{"source":"js/establish.js","name":"$","original":{"line":98,"column":16},"generated":{"line":1,"column":1503}},{"source":"js/establish.js","original":{"line":98,"column":18},"generated":{"line":1,"column":1505}},{"source":"js/establish.js","name":"val","original":{"line":98,"column":37},"generated":{"line":1,"column":1524}},{"source":"js/establish.js","name":"describex","original":{"line":100,"column":8},"generated":{"line":1,"column":1530}},{"source":"js/establish.js","name":"$","original":{"line":100,"column":20},"generated":{"line":1,"column":1532}},{"source":"js/establish.js","original":{"line":100,"column":22},"generated":{"line":1,"column":1534}},{"source":"js/establish.js","name":"val","original":{"line":100,"column":44},"generated":{"line":1,"column":1556}},{"source":"js/establish.js","name":"rectification","original":{"line":102,"column":8},"generated":{"line":1,"column":1562}},{"source":"js/establish.js","name":"$","original":{"line":102,"column":24},"generated":{"line":1,"column":1564}},{"source":"js/establish.js","original":{"line":102,"column":26},"generated":{"line":1,"column":1566}},{"source":"js/establish.js","name":"val","original":{"line":102,"column":47},"generated":{"line":1,"column":1587}},{"source":"js/establish.js","name":"axios","original":{"line":104,"column":8},"generated":{"line":1,"column":1593}},{"source":"js/establish.js","name":"post","original":{"line":104,"column":14},"generated":{"line":1,"column":1599}},{"source":"js/establish.js","name":"place","original":{"line":104,"column":77},"generated":{"line":1,"column":1604}},{"source":"js/establish.js","name":"place","original":{"line":104,"column":77},"generated":{"line":1,"column":1662}},{"source":"js/establish.js","name":"place","original":{"line":104,"column":77},"generated":{"line":1,"column":1669}},{"source":"js/establish.js","name":"describex","original":{"line":104,"column":96},"generated":{"line":1,"column":1671}},{"source":"js/establish.js","name":"describex","original":{"line":104,"column":96},"generated":{"line":1,"column":1686}},{"source":"js/establish.js","name":"describex","original":{"line":104,"column":96},"generated":{"line":1,"column":1693}},{"source":"js/establish.js","name":"rectification","original":{"line":104,"column":123},"generated":{"line":1,"column":1695}},{"source":"js/establish.js","name":"rectification","original":{"line":104,"column":123},"generated":{"line":1,"column":1714}},{"source":"js/establish.js","name":"rectification","original":{"line":104,"column":123},"generated":{"line":1,"column":1721}},{"source":"js/establish.js","name":"unitId","original":{"line":104,"column":147},"generated":{"line":1,"column":1723}},{"source":"js/establish.js","name":"unitId","original":{"line":104,"column":147},"generated":{"line":1,"column":1735}},{"source":"js/establish.js","name":"unitId","original":{"line":104,"column":147},"generated":{"line":1,"column":1742}},{"source":"js/establish.js","name":"fileUrl","original":{"line":104,"column":165},"generated":{"line":1,"column":1744}},{"source":"js/establish.js","name":"fileUrl","original":{"line":104,"column":165},"generated":{"line":1,"column":1757}},{"source":"js/establish.js","name":"fileUrl","original":{"line":104,"column":165},"generated":{"line":1,"column":1764}},{"source":"js/establish.js","name":"rank","original":{"line":104,"column":181},"generated":{"line":1,"column":1766}},{"source":"js/establish.js","name":"rank","original":{"line":104,"column":181},"generated":{"line":1,"column":1776}},{"source":"js/establish.js","name":"rank","original":{"line":104,"column":181},"generated":{"line":1,"column":1783}},{"source":"js/establish.js","name":"deadlineTime","original":{"line":104,"column":202},"generated":{"line":1,"column":1785}},{"source":"js/establish.js","name":"deadlineTime","original":{"line":104,"column":202},"generated":{"line":1,"column":1803}},{"source":"js/establish.js","name":"deadlineTime","original":{"line":104,"column":202},"generated":{"line":1,"column":1810}},{"source":"js/establish.js","name":"pid","original":{"line":104,"column":228},"generated":{"line":1,"column":1812}},{"source":"js/establish.js","name":"pid","original":{"line":104,"column":228},"generated":{"line":1,"column":1827}},{"source":"js/establish.js","name":"pid","original":{"line":104,"column":228},"generated":{"line":1,"column":1834}},{"source":"js/establish.js","name":"then","original":{"line":104,"column":235},"generated":{"line":1,"column":1838}},{"source":"js/establish.js","original":{"line":105,"column":12},"generated":{"line":1,"column":1843}},{"source":"js/establish.js","name":"res","original":{"line":105,"column":12},"generated":{"line":1,"column":1852}},{"source":"js/establish.js","name":"console","original":{"line":106,"column":16},"generated":{"line":1,"column":1855}},{"source":"js/establish.js","name":"log","original":{"line":106,"column":24},"generated":{"line":1,"column":1863}},{"source":"js/establish.js","name":"res","original":{"line":106,"column":28},"generated":{"line":1,"column":1867}},{"source":"js/establish.js","name":"data","original":{"line":106,"column":32},"generated":{"line":1,"column":1869}},{"source":"js/establish.js","original":{"line":107,"column":34},"generated":{"line":1,"column":1875}},{"source":"js/establish.js","name":"res","original":{"line":107,"column":20},"generated":{"line":1,"column":1884}},{"source":"js/establish.js","name":"data","original":{"line":107,"column":24},"generated":{"line":1,"column":1886}},{"source":"js/establish.js","name":"msg","original":{"line":107,"column":29},"generated":{"line":1,"column":1891}},{"source":"js/establish.js","name":"location","original":{"line":108,"column":20},"generated":{"line":1,"column":1895}},{"source":"js/establish.js","original":{"line":108,"column":31},"generated":{"line":1,"column":1904}},{"source":"js/establish.js","name":"alert","original":{"line":110,"column":20},"generated":{"line":1,"column":1933}},{"source":"js/establish.js","original":{"line":110,"column":26},"generated":{"line":1,"column":1939}}],"sources":{"js/establish.js":"$(function(){\r\n    // console.log('hello world')\r\n    let pid = localStorage.getItem('pid')\r\n\r\n    // 创建整改单需要上传的数据\r\n    let place = ''      // 具体位置\r\n    let unitId = ''     // 分包单位id\r\n    let fileUrl = ''    // 照片路径\r\n    let describex = ''  // 问题描述\r\n    let rank = 1       // 问题级别\r\n    let deadlineTime = '' // 整改期限\r\n    let rectification = '' // 整改要求\r\n\r\n    // 添加照片点击事件\r\n    $('.addPic').on('click',function(){\r\n        $('.camera').click()\r\n    })\r\n\r\n    // 照片上传\r\n    $(\".camera\").change(function(e){\r\n        $('.addPic').css('display','none')\r\n        $('.uploading').css('display','block')\r\n        let headers = {headers: {\"Content-Type\": \"multipart/form-data\"}}\r\n        let temp = e.target.files[0]\r\n        file = new FormData() // 创建form对象\r\n        file.append('file',temp) // 通过append向form对象添加数据\r\n        // console.log(file.get('file')) //FormData私有类对象，访问不到，可以通过get判断值是否传进去\r\n        axios.post(`http://39.108.103.150:8989/lz/file/upload?folderName=1`,file,headers).then(\r\n            res => {\r\n                // console.log(res.data.data[0].fileimgurl)\r\n                $('.addPic').attr('src',res.data.data[0].fileimgurl)\r\n                $('.addPic').css('display','block')\r\n                $('.uploading').css('display','none')\r\n                fileUrl = res.data.data[0].fileimgurl\r\n            }\r\n        )\r\n    })\r\n\r\n    // 获取分包单位列表\r\n    function getQueryBuildCompanyInFo () {\r\n        axios.post(`http://39.108.103.150:8989/lz/polling/queryBuildCompanyInFo?projectId=${pid}`).then(\r\n            res => {\r\n                // console.log(res.data)\r\n                let html = ''\r\n                for (let i = 0; i < res.data.msg.length; i++) {\r\n                    html += \r\n                        `<li data-unitid=\"${res.data.msg[i].id}\">${res.data.msg[i].title}</li>`\r\n                }\r\n                $('.unit-box ul').html(html)\r\n\r\n                // 分包单位选项栏点击事件\r\n                $('.unit-box ul li').on('click',function(event){\r\n                    event.stopPropagation()\r\n                    $('.unit-box').css('display','none')\r\n                    // $('.shade-box').css('display','none')\r\n                    // console.log($(this).data('unitid'))\r\n                    unitId = $(this).data('unitid')\r\n                    $('.unit .text').html(`${$(this).text()}<i></i>`)\r\n                })\r\n            }\r\n        )\r\n    }\r\n\r\n    getQueryBuildCompanyInFo()\r\n\r\n    // 设置整改期限\r\n    let calendar = new datePicker()\r\n    calendar.init({\r\n        'trigger': '.deadline', /*按钮选择器，用于触发弹出插件*/\r\n        'type': 'date',/*模式：date日期；datetime日期时间；time时间；ym年月；*/\r\n        'minDate':'1900-1-1',/*最小日期*/\r\n        'maxDate':'2100-12-31',/*最大日期*/\r\n        'onSubmit':function(){/*确认时触发事件*/\r\n            let theSelectData = calendar.value;\r\n            // console.log(theSelectData)\r\n            $('.deadline span').html(theSelectData)\r\n            deadlineTime = theSelectData\r\n        },\r\n        'onClose':function(){/*取消时触发事件*/\r\n            // console.log(`123`)\r\n        }\r\n    })\r\n\r\n    // 问题级别选择\r\n    $('.rank .button-box div').on('click',function(){\r\n        $(this).addClass('active').siblings().removeClass('active')\r\n        // console.log($(this).data('rank'))\r\n        rank = $(this).data('rank')\r\n    })\r\n\r\n    // 选择分包单位\r\n    $('.unit').on('click',function(){\r\n        $('.unit-box').css('display','block')\r\n    })\r\n\r\n    // 创建巡检单\r\n    $('.countersign').on('click',function(){\r\n        place = $('.position input').val()\r\n        // console.log(place)\r\n        describex = $('.describe textarea').val()\r\n        // console.log(describex)\r\n        rectification = $('.require textarea').val()\r\n        // console.log(rectification)\r\n        axios.post(`http://39.108.103.150:8989/lz/polling/addPolling?place=${place}&describex=${describex}&rectification=${rectification}&unitId=${unitId}&fileUrl=${fileUrl}&rank=${rank}&deadlineTime=${deadlineTime}&projectId=${pid}`).then(\r\n            res => {\r\n                console.log(res.data)\r\n                if (res.data.msg=='发起成功！') {\r\n                    location = '../components/quality.html'\r\n                } else {\r\n                    alert('')\r\n                }\r\n            }\r\n        )\r\n    })\r\n})"},"lineCount":null}},"hash":"2390c24f1e3bc40df5c9226164638d00","cacheData":{"env":{}}}