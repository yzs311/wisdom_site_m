{"version":3,"sources":["js/information.js"],"names":["$","pid","localStorage","getItem","folderDataList","fileDataList","parentId","axios","post","then","res","printobj","data","obj","k","push","children","length","rows","setList","folderHtml","fileHtml","i","folderId","folderName","fileId","fileName","fileSize","createTime","html","css","on","location","href"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,CAAC,CAAC,YAAY;AACV,MAAIC,GAAG,GAAGC,YAAY,CAACC,OAAb,CAAqB,KAArB,CAAV;AACA,MAAIC,cAAc,GAAG,EAArB;AACA,MAAIC,YAAY,GAAG,EAAnB;AACA,MAAIC,QAAQ,GAAG,CAAf,CAJU,CAMV;;AACAC,EAAAA,KAAK,CAACC,IAAN,sEAAyEP,GAAzE,GAAgFQ,IAAhF,CACI,UAAAC,GAAG,EAAI;AACH;AACA;AACAC,IAAAA,QAAQ,CAACD,GAAG,CAACE,IAAL,CAAR;;AACA,aAASD,QAAT,CAAkBE,GAAlB,EAAsB;AAClB,WAAI,IAAIC,CAAR,IAAaD,GAAb,EAAiB;AAAC;AACd;AACAT,QAAAA,cAAc,CAACW,IAAf,CAAoBF,GAAG,CAACC,CAAD,CAAvB;;AACT,YAAGD,GAAG,CAACC,CAAD,CAAH,CAAOE,QAAP,CAAgBC,MAAhB,GAAyB,CAA5B,EAA8B;AAAG;AACpBN,UAAAA,QAAQ,CAACE,GAAG,CAACC,CAAD,CAAH,CAAOE,QAAR,CAAR;AACZ;AACK;AACJ;AACJ,GAdL,EAPU,CAwBV;;AACAT,EAAAA,KAAK,CAACC,IAAN,uFAA0FP,GAA1F,GAAiGQ,IAAjG,CACI,UAAAC,GAAG,EAAI;AACH;AACAL,IAAAA,YAAY,GAAGK,GAAG,CAACE,IAAJ,CAASM,IAAxB;AACAC,IAAAA,OAAO,CAACb,QAAD,CAAP;AACH,GALL,EAzBU,CAiCV;AAEA;;AACA,WAASa,OAAT,CAAiBb,QAAjB,EAA2B;AACvB,QAAIc,UAAU,GAAG,EAAjB;AACA,QAAIC,QAAQ,GAAG,EAAf,CAFuB,CAIvB;;AACA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,cAAc,CAACa,MAAnC,EAA2CK,CAAC,EAA5C,EAAgD;AAC5C;AACA,UAAIlB,cAAc,CAACkB,CAAD,CAAd,CAAkBhB,QAAlB,IAA8BA,QAAlC,EAA4C;AACxCc,QAAAA,UAAU,gCACehB,cAAc,CAACkB,CAAD,CAAd,CAAkBC,QADjC,4JAIUnB,cAAc,CAACkB,CAAD,CAAd,CAAkBE,UAJ5B,2HAAV;AAQH;AACJ,KAjBsB,CAmBvB;;;AACA,SAAK,IAAIF,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGjB,YAAY,CAACY,MAAjC,EAAyCK,EAAC,EAA1C,EAA8C;AAC1C;AACA,UAAIjB,YAAY,CAACiB,EAAD,CAAZ,CAAgBC,QAAhB,IAA4BjB,QAAhC,EAA0C;AACtCe,QAAAA,QAAQ,8BACehB,YAAY,CAACiB,EAAD,CAAZ,CAAgBG,MAD/B,iLAIsBpB,YAAY,CAACiB,EAAD,CAAZ,CAAgBI,QAJtC,oEAKyBrB,YAAY,CAACiB,EAAD,CAAZ,CAAgBK,QALzC,gBAKuDtB,YAAY,CAACiB,EAAD,CAAZ,CAAgBM,UALvE,wHAAR;AASH;AACJ;;AAED5B,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAc6B,IAAd,CAAmBT,UAAnB;AACApB,IAAAA,CAAC,CAAC,UAAD,CAAD,CAAc6B,IAAd,CAAmBR,QAAnB;;AAEA,QAAID,UAAU,IAAE,EAAZ,IAAkBC,QAAQ,IAAE,EAAhC,EAAoC;AAChC;AACArB,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc8B,GAAd,CAAkB,SAAlB,EAA4B,OAA5B;AACH,KAHD,MAGO;AACH9B,MAAAA,CAAC,CAAC,UAAD,CAAD,CAAc8B,GAAd,CAAkB,SAAlB,EAA4B,MAA5B;AACH;AACJ,GAhFS,CAkFV;;;AACA9B,EAAAA,CAAC,CAAC,UAAD,CAAD,CAAc+B,EAAd,CAAiB,OAAjB,EAAyB,IAAzB,EAA8B,YAAU;AACpC;AACAzB,IAAAA,QAAQ,GAAGN,CAAC,CAAC,IAAD,CAAD,CAAQY,IAAR,CAAa,UAAb,CAAX;AACAO,IAAAA,OAAO,CAACb,QAAD,CAAP;AACH,GAJD,EAnFU,CAyFV;;AACAN,EAAAA,CAAC,CAAC,UAAD,CAAD,CAAc+B,EAAd,CAAiB,OAAjB,EAAyB,IAAzB,EAA8B,YAAY;AACtC;AACA;AACAC,IAAAA,QAAQ,CAACC,IAAT,gEAAoEjC,CAAC,CAAC,IAAD,CAAD,CAAQY,IAAR,CAAa,QAAb,CAApE;AACH,GAJD,EA1FU,CAgGV;;AACAZ,EAAAA,CAAC,CAAC,SAAD,CAAD,CAAa+B,EAAb,CAAgB,OAAhB,EAAwB,YAAY;AAChC,SAAK,IAAIT,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,cAAc,CAACa,MAAnC,EAA2CK,CAAC,EAA5C,EAAgD;AAC5C,UAAIlB,cAAc,CAACkB,CAAD,CAAd,CAAkBC,QAAlB,IAA8BjB,QAAlC,EAA4C;AACxC;AACAA,QAAAA,QAAQ,GAAGF,cAAc,CAACkB,CAAD,CAAd,CAAkBhB,QAA7B;AACH;AACJ;;AACDa,IAAAA,OAAO,CAACb,QAAD,CAAP;AACH,GARD;AASH,CA1GA,CAAD","file":"information.5f80fece.map","sourceRoot":"..","sourcesContent":["$(function () {\r\n    let pid = localStorage.getItem('pid')\r\n    let folderDataList = []\r\n    let fileDataList = []\r\n    let parentId = 0\r\n\r\n    // 遍历文件夹列表\r\n    axios.post(`http://39.108.103.150:8989/lz/folder/queryFolder?projectId=${pid}`).then(\r\n        res => {\r\n            // folderData = res.data\r\n            // console.log(res.data)\r\n            printobj(res.data)\r\n            function printobj(obj){\r\n                for(var k in obj){//遍历对象和数组\r\n                    // console.log(obj[k])\r\n                    folderDataList.push(obj[k])\r\n\t\t\t        if(obj[k].children.length > 0){  // 判断如果children里有内容则递归\r\n                        printobj(obj[k].children)\r\n\t\t\t        }\r\n                }\r\n            }\r\n        }\r\n    )\r\n\r\n    // 遍历文件列表\r\n    axios.post(`http://39.108.103.150:8989/lz/file/queryFile?page=1&pageSize=10000&uploader=${pid}`).then(\r\n        res => {\r\n            // console.log(res.data.rows)\r\n            fileDataList = res.data.rows\r\n            setList(parentId)\r\n        }\r\n    )\r\n\r\n    // console.log(folderDataList)\r\n    \r\n    // 渲染列表\r\n    function setList(parentId) {\r\n        let folderHtml = ''\r\n        let fileHtml = ''\r\n\r\n        // 将文件夹数据添加到页面中\r\n        for (let i = 0; i < folderDataList.length; i++) {\r\n            // console.log(folderDataList[i])\r\n            if (folderDataList[i].parentId == parentId) {\r\n                folderHtml += \r\n                    `<li data-folderId=${folderDataList[i].folderId}>\r\n                        <div class=\"icon-box\"></div>\r\n                        <div class=\"text-box\">\r\n                            <span>${folderDataList[i].folderName}</span>\r\n                        </div>\r\n                        <div class=\"line\"></div>\r\n                    </li>`\r\n            }\r\n        }\r\n\r\n        // 将文件数据添加到页面中\r\n        for (let i = 0; i < fileDataList.length; i++) {\r\n            // console.log(fileDataList[i])\r\n            if (fileDataList[i].folderId == parentId) {\r\n                fileHtml += \r\n                    `<li data-fileId=${fileDataList[i].fileId}>\r\n                        <div class=\"icon-box pdf-icon\"></div>\r\n                        <div class=\"text-box\">\r\n                            <p class=\"name\">${fileDataList[i].fileName}</p>\r\n                            <p class=\"message\">${fileDataList[i].fileSize}KB ${fileDataList[i].createTime}</p>\r\n                        </div>\r\n                        <div class=\"line\"></div>\r\n                    </li>`\r\n            }\r\n        }\r\n\r\n        $('.tier ul').html(folderHtml)\r\n        $('.last ul').html(fileHtml)\r\n\r\n        if (folderHtml=='' && fileHtml=='') {\r\n            // console.log(`123`)\r\n            $('.no-data').css('display','block')\r\n        } else {\r\n            $('.no-data').css('display','none')\r\n        }\r\n    }\r\n\r\n    // 文件夹点击事件\r\n    $('.tier ul').on('click','li',function(){\r\n        // console.log($(this).data('folderid'))\r\n        parentId = $(this).data('folderid')\r\n        setList(parentId)\r\n    })\r\n\r\n    // 文件点击事件（下载）\r\n    $('.last ul').on('click','li',function () {\r\n        // 根据文件id调用下载接口\r\n        // console.log($(this).data('fileid'))\r\n        location.href=`http://39.108.103.150:8989/lz/file/download?fileId=${$(this).data('fileid')}`\r\n    })\r\n\r\n    // 返回点击事件\r\n    $('.return').on('click',function () {\r\n        for (let i = 0; i < folderDataList.length; i++) {\r\n            if (folderDataList[i].folderId == parentId) {\r\n                // console.log(folderDataList[i])\r\n                parentId = folderDataList[i].parentId\r\n            }\r\n        }\r\n        setList(parentId)\r\n    })\r\n})"]}